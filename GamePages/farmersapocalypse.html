<!DOCTYPE html>
<html lang="en">
    <head>
        <title id="pagetitle">Game Page</title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <meta charset="utf-8">
        <link rel="icon" href="../WebsiteVisuals/MikeyFace.jpg" type="image/ico">
        <link rel="stylesheet" href="gp-style.css">
        <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
        crossorigin="anonymous"></script>
    </head>
    
    <body>
        <div id="header"></div>
        <div id="projectface" style="background-image: url('/WebsiteVisuals/Bouncy-Ball-1.png');">            
        </div>
        
        <h1 id="title">Game Page</h1>
        <div id="projectstats">
            <div id="toolsused">
                <section>
                    <div>
                        <h2>Tools Used</h2>
                        <p id="tools"></p>
                    </div>
                    <div>
                        <h2>Date Published</h2>
                        <p id="date"></p>
                    </div>
                </section>
            </div>
            <button id="link">Play Game</button>
        </div>
        <p id="description"></p>

        <div id="projectgallery">
            <img id="img1" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=" alt="">
            <img id="img2" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=" alt="">
            <img id="img3" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=" alt="">
        </div>

        <div id="carousel"></div>
        <div id="footer"></div>

        <script>
            async function loadGames() {
                var gameID = 3;
                const response = await fetch("./games.json");
                const games = await response.json();
    
                document.getElementById("pagetitle").innerHTML = games.games[gameID].title;
                document.getElementById("title").innerHTML = games.games[gameID].title;
                document.getElementById("tools").innerHTML = games.games[gameID].tools;
                document.getElementById("date").innerHTML = games.games[gameID].date;
                document.getElementById("description").innerHTML = games.games[gameID].description;
                document.getElementById("link").onclick = function(){window.open(games.games[gameID].link, '_blank')};
    
                document.getElementById("projectface").style.backgroundImage = 'url('+games.games[gameID].background+')';
                document.getElementById("img1").style.backgroundImage = 'url('+games.games[gameID].img1+')';
                document.getElementById("img2").style.backgroundImage = 'url('+games.games[gameID].img2+')';
                document.getElementById("img3").style.backgroundImage = 'url('+games.games[gameID].img3+')';
            }
            loadGames();
    
            $(function() {
                $('#header').load('/header.html')
            });
            $(function(){
                $('#carousel').load('/OtherGames.html')
            });
            $(function(){
                $('#footer').load('/footer.html')
            });
        </script>
    </body>
</html>